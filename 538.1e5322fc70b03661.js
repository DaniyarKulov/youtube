"use strict";(self.webpackChunkyoutube_task=self.webpackChunkyoutube_task||[]).push([[538],{4538:(q,y,n)=>{n.r(y),n.d(y,{YoutubeModule:()=>p});var s=n(6895),x=n(4859),f=n(7392),c=n(3546),u=n(5116),b=n(727),Z=n(4004),C=n(3900),_=n(8505),t=n(4650),A=n(3960);function O(o,e){if(1&o&&(t.TgZ(0,"div",2)(1,"mat-card-actions")(2,"button",3),t._uU(3,"<"),t.qZA()(),t.TgZ(4,"div"),t._UZ(5,"img",4),t.qZA(),t.TgZ(6,"div",5)(7,"mat-card-title"),t._uU(8),t.qZA(),t.TgZ(9,"p"),t._uU(10),t.ALo(11,"date"),t.qZA(),t.TgZ(12,"mat-card-content")(13,"div",6),t._uU(14," Description: "),t._UZ(15,"br"),t._uU(16),t.qZA()(),t.TgZ(17,"div",7)(18,"p",8)(19,"mat-icon"),t._uU(20,"visibility"),t.qZA(),t._uU(21),t.qZA(),t.TgZ(22,"p",8)(23,"mat-icon"),t._uU(24,"thumb_up"),t.qZA(),t._uU(25),t.qZA(),t.TgZ(26,"p",8)(27,"mat-icon"),t._uU(28,"favorite"),t.qZA(),t._uU(29),t.qZA(),t.TgZ(30,"p",8)(31,"mat-icon"),t._uU(32,"forum"),t.qZA(),t._uU(33),t.qZA()()()()),2&o){const i=t.oxw();t.xp6(5),t.s9C("ngSrc",i.video.snippet.thumbnails.high.url),t.s9C("width",i.video.snippet.thumbnails.high.width),t.s9C("height",i.video.snippet.thumbnails.high.height),t.s9C("alt",i.video.snippet.title),t.xp6(3),t.hij(" ",i.video.snippet.title," "),t.xp6(2),t.Oqu(t.xi3(11,11,i.video.snippet.publishedAt,"EEEE, MMMM d, y")),t.xp6(6),t.hij(" ",i.video.snippet.description," "),t.xp6(5),t.hij(" ",i.video.statistics.viewCount,""),t.xp6(4),t.hij(" ",i.video.statistics.likeCount,""),t.xp6(4),t.hij(" ",i.video.statistics.favoriteCount,""),t.xp6(4),t.hij(" ",i.video.statistics.commentCount,"")}}class l{constructor(e,i){this.route=e,this.videosHttpService=i,this.subs=new b.w0}ngOnInit(){this.subs.add(this.route.paramMap.pipe((0,Z.U)(e=>e.get("id")??""),(0,C.w)(e=>this.videosHttpService.getVideosById(e).pipe((0,_.b)(i=>{this.video=i.items.find(r=>r.id===e)??""})))).subscribe())}ngOnDestroy(){this.subs.unsubscribe()}}l.\u0275fac=function(e){return new(e||l)(t.Y36(u.gz),t.Y36(A.a))},l.\u0275cmp=t.Xpm({type:l,selectors:[["app-video-detail"]],decls:2,vars:1,consts:[[1,"container"],["class","video",4,"ngIf"],[1,"video"],["routerLink","/youtube",1,"video__button"],["mat-card-image","",1,"video__image",3,"ngSrc","width","height","alt"],[1,"video__info"],[1,"video__description"],[1,"video__statistics"],[1,"video__count"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.YNc(1,O,34,14,"div",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",i.video))},dependencies:[s.O5,f.Hw,s.Zd,c.hq,c.dn,c.G2,c.n5,u.rH,s.uU],styles:[".video[_ngcontent-%COMP%]{display:grid;grid-template-columns:32px 729px 360px;margin:30px 0}.video__image[_ngcontent-%COMP%]{width:100%;height:auto}.video__info[_ngcontent-%COMP%]{padding:35px}.video__button[_ngcontent-%COMP%]{align-self:flex-start}.video__statistics[_ngcontent-%COMP%]{display:flex;margin-top:15px;gap:20px}.video__description[_ngcontent-%COMP%]{height:300px;overflow:auto;box-sizing:border-box;width:400px}.video__count[_ngcontent-%COMP%]{display:flex;align-items:center}.container[_ngcontent-%COMP%]{display:flex;justify-content:center}"]});var w=n(5335),T=n(4255),M=n(3570),U=n(9653);function F(o,e){if(1&o&&(t.TgZ(0,"div")(1,"p",9)(2,"mat-icon"),t._uU(3),t.qZA(),t._uU(4),t.qZA()()),2&o){const i=e.$implicit;t.xp6(3),t.Oqu(i.icon),t.xp6(1),t.hij(" ",i.date,"")}}function Y(o,e){if(1&o&&(t.TgZ(0,"li",1)(1,"mat-card-content",2),t._UZ(2,"img",3),t.TgZ(3,"div",4),t.YNc(4,F,5,2,"div",5),t.qZA(),t.TgZ(5,"mat-card-title")(6,"p",6),t._uU(7),t.qZA()(),t.TgZ(8,"button",7),t._uU(9,"More..."),t.qZA(),t._UZ(10,"div",8),t.qZA()()),2&o){const i=t.oxw();t.xp6(2),t.s9C("ngSrc",i.video.snippet.thumbnails.medium.url),t.s9C("width",i.video.snippet.thumbnails.medium.width),t.s9C("height",i.video.snippet.thumbnails.medium.height),t.s9C("alt",i.video.snippet.title),t.xp6(2),t.Q6J("ngForOf",i.statiscticsInfo)("ngForTrackBy",i.trackByIndex),t.xp6(3),t.Oqu(i.video.snippet.title),t.xp6(1),t.MGl("routerLink","/youtube/",i.video.id,"")}}class m{constructor(){this.statiscticsInfo=[],this.videoStatistics=[],this.iconsArr=["visibility","thumb_up","thumb_down","favorite","forum"]}ngOnInit(){this.videoStatistics=Object.values(this.video?.statistics??[]),this.iconsArr.forEach((e,i)=>{this.statiscticsInfo.push({icon:e,date:this.videoStatistics[i]})})}trackByIndex(e){return e}}m.\u0275fac=function(e){return new(e||m)},m.\u0275cmp=t.Xpm({type:m,selectors:[["app-form-video-item"]],inputs:{video:"video"},decls:1,vars:1,consts:[["class","youtube",4,"ngIf"],[1,"youtube"],[1,"youtube__card"],[3,"ngSrc","width","height","alt"],[1,"view"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"youtube__title"],["mat-raised-button","","color","primary",3,"routerLink"],[1,"line"],[1,"youtube__view"]],template:function(e,i){1&e&&t.YNc(0,Y,11,8,"li",0),2&e&&t.Q6J("ngIf",i.video.snippet)},dependencies:[s.sg,s.O5,x.lW,f.Hw,s.Zd,c.dn,c.n5,u.rH],styles:[".view[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.youtube[_ngcontent-%COMP%]{text-align:center;height:100%;border-bottom:3px solid transparent}.youtube__title[_ngcontent-%COMP%]{font-size:16px}.youtube__card[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.youtube__view[_ngcontent-%COMP%]{display:flex;align-items:center;margin:5px}[_nghost-%COMP%]{border-bottom:3px solid transparent}"]});var d=(()=>{return(o=d||(d={}))[o.sixMonth=15778462980]="sixMonth",o[o.month=2629743830]="month",o[o.week=6048e5]="week",o.blue="blue",o.green="green",o.red="red",o.yellow="yellow",d;var o})();class v{constructor(e,i){this.el=e,this.renderer=i}ngOnChanges(){if(this.date){const e=new Date(this.date).getTime(),i=Date.now(),r=this.getColor(i,e);this.setColor(r)}}setColor(e){this.renderer.setStyle(this.el.nativeElement,"border-color",e)}getColor(e,i){const r=e-i;return r<=d.week?d.blue:r<d.month?d.green:r<d.sixMonth?d.yellow:d.red}}v.\u0275fac=function(e){return new(e||v)(t.Y36(t.SBq),t.Y36(t.Qsj))},v.\u0275dir=t.lG2({type:v,selectors:[["","appBorderColor",""]],inputs:{date:["appBorderColor","date"]},features:[t.TTD]});const S={views:(o,e)=>+e.statistics.viewCount-+o.statistics.viewCount,data:(o,e)=>+new Date(e.snippet.publishedAt)-+new Date(o.snippet.publishedAt)};class g{transform(e,i){return e&&i?e.sort((r,j)=>S[i.type](r,j)*i.direction):e??[]}}function B(o,e){if(1&o&&t._UZ(0,"app-form-video-item",3),2&o){const i=e.$implicit;t.Q6J("appBorderColor",i.snippet.publishedAt)("video",i)}}function I(o,e){if(1&o&&(t.TgZ(0,"li"),t._UZ(1,"img",4),t.TgZ(2,"h2"),t._uU(3),t.qZA(),t.TgZ(4,"p"),t._uU(5),t.qZA()()),2&o){const i=e.$implicit;t.xp6(1),t.s9C("ngSrc",i.img),t.s9C("alt",i.title),t.xp6(2),t.Oqu(i.title),t.xp6(2),t.Oqu(i.description)}}g.\u0275fac=function(e){return new(e||g)},g.\u0275pipe=t.Yjl({name:"sort",type:g,pure:!0});class h{constructor(e,i,r){this.sortVideosService=e,this.videosService=i,this.store=r,this.viewCount=String("viewCountDecrease"),this.videos$=this.videosService.videos$,this.sortOptions$=this.sortVideosService.sort$,this.addVideo$=this.store.select(w.qj)}trackById(e,i){return i.id}}h.\u0275fac=function(e){return new(e||h)(t.Y36(T.a),t.Y36(M.Y),t.Y36(U.yh))},h.\u0275cmp=t.Xpm({type:h,selectors:[["app-youtube"]],decls:8,vars:12,consts:[[1,"ul"],["class","form",3,"appBorderColor","video",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngFor","ngForOf"],[1,"form",3,"appBorderColor","video"],["width","320","height","180",3,"ngSrc","alt"]],template:function(e,i){1&e&&(t.TgZ(0,"mat-card")(1,"ul",0),t.YNc(2,B,1,2,"app-form-video-item",1),t.ALo(3,"sort"),t.ALo(4,"async"),t.ALo(5,"async"),t.YNc(6,I,6,4,"li",2),t.ALo(7,"async"),t.qZA()()),2&e&&(t.xp6(2),t.Q6J("ngForOf",t.xi3(3,3,t.lcZ(4,6,i.videos$),t.lcZ(5,8,i.sortOptions$)))("ngForTrackBy",i.trackById),t.xp6(4),t.Q6J("ngForOf",t.lcZ(7,10,i.addVideo$)))},dependencies:[s.sg,s.Zd,c.a8,m,v,s.Ov,g],styles:[".ul[_ngcontent-%COMP%]{list-style:none;display:grid;gap:20px;grid-template-columns:repeat(4,1fr)}.form[_ngcontent-%COMP%]{background-color:#e5e5e5;border-radius:13px}"]});const P=[{path:"",component:h},{path:":id",component:l}];class a{}a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[s.ez,u.Bz.forChild(P)]});class p{}p.\u0275fac=function(e){return new(e||p)},p.\u0275mod=t.oAB({type:p}),p.\u0275inj=t.cJS({imports:[s.ez,x.ot,f.Ps,c.QW,a,u.Bz]})}}]);